var __extends = this.__extends || function (d, b) {
    for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];
    function __() { this.constructor = d; }
    __.prototype = b.prototype;
    d.prototype = new __();
};
define('controllers',["require", "exports", 'jquery'], function(require, exports, $) {
    var CollectionController = (function () {
        function CollectionController() {
        }
        CollectionController.prototype.run = function () {
            this.setupViewModeSwitcher();
        };

        CollectionController.prototype.setupViewModeSwitcher = function () {
            var viewModeSwitcher = $('.view-mode-switcher');
            var viewModeSwitcherReferences = $(viewModeSwitcher.data('references'));

            viewModeSwitcher.on('click', 'a', function (element) {
                viewModeSwitcherReferences.removeClass('grid list');
                viewModeSwitcherReferences.addClass($(this).data('view-mode'));
                return false;
            });
        };
        return CollectionController;
    })();
    exports.CollectionController = CollectionController;

    var AlbumsController = (function (_super) {
        __extends(AlbumsController, _super);
        function AlbumsController() {
            _super.apply(this, arguments);
        }
        return AlbumsController;
    })(CollectionController);
    exports.AlbumsController = AlbumsController;

    var MoviesController = (function (_super) {
        __extends(MoviesController, _super);
        function MoviesController() {
            _super.apply(this, arguments);
        }
        return MoviesController;
    })(CollectionController);
    exports.MoviesController = MoviesController;
});

define('app',["require", "exports", 'jquery', './controllers'], function(require, exports, $, controllers) {
    var App = (function () {
        function App() {
        }
        App.prototype.run = function () {
            var controller = this.getController();

            if (controller == null) {
                return;
            }

            controller.run();
        };

        App.prototype.getController = function () {
            switch (this.getPageUrl()) {
                case '/albums/':
                    return new controllers.AlbumsController();
                case '/movies/':
                    return new controllers.MoviesController();
                default:
                    return null;
            }
        };

        App.prototype.getPageUrl = function () {
            return $('body').attr('id');
        };
        return App;
    })();
    exports.App = App;
});

requirejs.config({
    'baseUrl': '/scripts',
    'paths': {
        'jquery': '//code.jquery.com/jquery-1.11.0.min'
    }
});

requirejs(['jquery', 'app'], function ($, app) {
    return $(function () {
        return new app.App().run();
    });
});

define("main", function(){});

